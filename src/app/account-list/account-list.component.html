<app-user></app-user>
<p class="h3">Title: Account submission screen</p>
<form [formGroup]="accountsForm" (ngSubmit)="onSubmit()">
    <div formArrayName="accounts">
        <!-- <h3>Accounts to be excluded</h3> -->
        <div *ngFor="let account of accounts.controls; let i=index">
            <!-- The repeated alias template -->
            <label>
                Account:

                <input type="text" [formControlName]="i" minlength="9" maxlength="20" required="true"
                    class="p-3 mb-2 bg-primary text-white">

            </label>
        </div>
    </div>
    <button (click)="addAccounts()">Add Account</button>
    <p>
        <button type="submit" [disabled]="!accountsForm.valid" class="btn btn-outline-warning">Submit</button>
    </p>
    <div *ngIf="statusMessage!=''" class="alert alert-warning col-md-12" role="alert">
            {{statusMessage}}
    </div>
</form>

<p>
    Form Value: {{ accountsForm.value | json }}
</p>


<p>
    Form Status: {{ accountsForm.status }}
</p>

<div *ngIf="!accountsForm.status" class="alert alert-warning col-md-12" role="alert">
    <!-- <div class="alert alert-danger" [hidden]="!accountsForm.status"> -->
        Account numbers must have 9 to 20 characters.
    <!-- </div> -->
</div>

<div class="errorMessage" *ngIf="!accountsForm.status"> Account numbers must have 9 to 20 characters.</div>